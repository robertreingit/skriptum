{"title":"Einführung","markdown":{"headingText":"Einführung","containsRefs":false,"markdown":"\n```{r}\n#| echo: false\n#| warning: false\n#| message: false\nsource('_common.R')\n```\n\n## Back to school\n\nWir beginnen mit ein Konzept das wir schon alle kennen. Nämlich die Punkt-Steigungsform aus der Schule (siehe @eq-slm-psform-1).\n\n$$\ny = m x + b\n$${#eq-slm-psform-1}\n\nWir haben eine abhängige Variable $y$ und eine lineare Formel $mx + b$ die den funktionalen Zusammenhang zwischen den Variablen $y$ und $x$ beschreibt. Um das Ganz einmal konkret zu machen setzen wir $m = 2$ und $b = 3$ fest. Die Formel @eq-slm-psform-1 wird dann zu:\n\n```{r}\nm <- 2\nb <- 3\n```\n\n$$\ny = `r m` x + `r b`\n$${#eq-slm-psform-2}\n\nUm ein paar Werte für $y$ zu erhalten setzen wir jetzt verschiedene Wert für $x$ ein indem wir $x$ in Einserschritten zwischen $[0, \\ldots, 5]$ erhöhen. Um die Werte darzustellen verwenden wir zunächst eine Tabelle (vlg. @tbl-slm-psform)\n\n```{r}\n#| tbl-cap: \"Tabelle der Daten\"\n#| label: tbl-slm-psform\n\ntib_psf <- tibble(x = 0:5, y = m * x + b)\nkable(tib_psf,\n      booktabs = T,\n      linesep = '')\n\n```\n\nWenig überraschend nimmt $y$ für den Wert $x = 0$ den Wert $`r b`$ an und z.B. für den Wert $x = 3$ nimmt $y$ den Wert $`r m` \\cdot 3 + `r b` = `r m*3+b`$ an.\n\nTODO: Einführung eines Index $i$\n\n\nEine andere Darstellungsform ist naturlich eine graphische Darstellung in dem wir die Werte von $y$ gegen $x$ auf einem Graphen abtragen (siehe @fig-slm-psform-1).\n\n```{r}\n#| fig.cap: \"Graphische Darstellung der Daten aus @tbl-slm-psform\"\n#| label: fig-slm-psform-1\n\nggplot(tib_psf, aes(x,y)) +\n  geom_line() + \n  geom_point(size=4)\n\n```\n\nWiederum wenig überraschen sehen wir einen linearen Zuwachs der $y$-Wert mit den größerwerdenden $x$-Werte. Da in der Definition der Formel @eq-slm-psform-2 nirgends festgelt wurde, dass diese nur für ganzzahlige $x$-Werte gilt, haben wir direkt eine Gerade durch die Punkte gelegt. Hier wird auch die Bedeutung von $m$ und $b$ direkt klar. Die Variable $m$ bestimmt die Steigung der Gleichung während $b$ den y-Achsenabschnitt beschreibt. \n\n::: {#def-slm-basics-y-intercept}\n## $y$-Achsenabschnitt\n\nDer y-Achsenabschnitt ist der Wert den $y$ einnimmt wenn $x$ den Wert $0$ annimmt. Sei $y$ durch eine lineare Gleichung $y = mx + b$ definiert, dann wird der y-Achsenabschnitt durch den Wert $b$ bestimmt.\n\n:::\n\nDie Variable $m$ dahingehend bestimmt die Steigung der Gerade. \n\n::: {#def-slm-basics-slope}\n\nWenn $y$ durch eine lineare Gleichung $y = mx + b$ definiert ist, dann bestimmt die Variable $m$ die Steiung der dazugehörenden Gerade. D.h. wenn sich die Variable $x$ um einen Einheit vergrößert (verkleinert) wird der Wert von $y$ um $m$ Einheiten größer (kleiner). Gilt $m < 0$ dann umgekehrt.\n\n:::\n\nDiese beiden trivialen Konzepte mit eigenen Definitionen zu versehen erscheint im ersten Moment vielleicht etwas übertrieben. Wie sich allerdings später zeigen wird, sind diese beiden Einsichten immer wieder zentral wenn es um die Interpretation von linearen statistischen Modellen geht.\n\n```{r defs_reg_01}\njump <- readr::read_delim('data/running_jump.csv',\n                          delim=';',\n                          col_types = 'dd')\nmod_jump <- lm(jump_m ~ v_ms, jump)\njump <- jump |> mutate(y_hat = predict(mod_jump))\n```\n\n## Einfaches Beispiel - Daten\n\n```{r}\njump |> select(jump_m, v_ms) |>\n  head(n = 7) |>  \n  kable(booktabs=TRUE,\n               linesep=\"\",\n               caption=\"Ausschnitt der Sprungdaten\",\n               digits = 2)\n```\n\n## Einfaches Beispiel - Grafik\n\n```{r}\n#| fig.cap=\"Zusammenhang der Anlaufgeschwindigkeit und der Sprungweite\",\n#| fig.height=2\n\nggplot(jump, aes(v_ms, jump_m)) + geom_point() + \n  labs(x = 'Anlaufgeschwindigkeit[m/s]',\n       y = 'Sprungweite[m]') \n```\n\n## Einfaches Beispiel - Regressionsgerade\n\n```{r}\n#| fig.cap=\"Zusammenhang der Anlaufgeschwindigkeit und der Sprungweite\",\n#| fig.height=2\n\nbeta_0 <- coef(mod_jump)[1]\nbeta_1 <- coef(mod_jump)[2]\nggplot(jump, aes(v_ms, jump_m)) + \n  labs(x = 'Anlaufgeschwindigkeit[m/s]',\n       y = 'Sprungweite[m]') +\n  geom_abline(slope = beta_1, intercept = beta_0,\n              col = 'blue')  +\n  geom_abline(data = tibble(s = beta_1 + seq(-0.05, 0.05, 0.01),\n                            y_in = beta_0),\n              aes(slope = s, intercept = y_in), alpha=.1, col='blue') +\n  geom_segment(aes(x = v_ms, xend = v_ms, yend = jump_m, y = y_hat),\n               col = 'red') +\n  geom_point() \n```\n\n## Loss function\n\n$$\n\\sum_{i=1}^n(y_i - (\\beta_0 + \\beta_1 v_i))^2\n$$\n\n$$\ny = -0.14 + 0.76 \\times v\n$$\n\n\n\n## Regression in `R`\n\n### Model fitten mit `lm()`\n```{r, echo=T}\nmod <- lm(jump_m ~ v_ms, data = jump)\nmod\n```\n\n## Formelsyntax in `lm(y ~ x, data)`\n\n\nTable: Formelsyntaxbeispiele für `lm()`\n\n| Modell | Formel |  Erklärung |\n|---|---|---|\n| $y=\\beta_0$ | `y ~ 1` | y-Ab\n| $y=\\beta_0+\\beta x$ | `y ~ x` | y-Ab und StKoef |\n| $y=\\beta_0+\\beta_1x_1+\\beta_2x_2$ | `y ~ x1 + x2` | y-Ab und 2 StKoe |\n\ny-Ab = y-Achsenabshnitt, StKoef = Steigungskoeffizient\n\n## `lm()`-fit mit `summary()` inspizieren\n\n```{r, echo=T}\nsummary(mod)\n```\n\n## `lm()` und ein paar friends...\n\nKoeffizienten und Standardschätzfehler\n```{r, echo=T}\ncoef(mod)\nsigma(mod)\n```\n\nResiduen\n```{r, echo=T}\n# Nur die ersten beiden\n# Residuen\n# damit der Ausdruck\n# auf das Slide passt.\nresid(mod)[1:2]\n```\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":2,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"slm_basics.html"},"language":{},"metadata":{"lang":"de","fig-responsive":true,"quarto-version":"1.2.258","bibliography":["bibliography.bib"],"theme":"cosmo","callout-icon":true},"extensions":{"book":{"multiFile":true}}},"pdf":{"execute":{"fig-width":5.5,"fig-height":4,"fig-format":"pdf","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"pdf-engine":"xelatex","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","include-in-header":{"text":"\\usepackage{makeidx,multirow}\n\\makeindex\n"},"include-after-body":{"text":"\\printindex\n"},"output-file":"slm_basics.pdf"},"language":{},"metadata":{"block-headings":true,"bibliography":["bibliography.bib"],"documentclass":"scrreprt"},"extensions":{"book":{}}}}}